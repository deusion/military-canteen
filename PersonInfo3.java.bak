
import javax.swing.*;
import java.awt.event.*;
import java.awt.*;
import java.sql.*;

public class PersonInfo3 extends JFrame implements ActionListener,ItemListener
{
	JLabel new1,new2,new3,new4,new5;
	JButton ok;
	JComboBox tsex,tname,s;
    TextArea tvAddr,tvAddr1;
	  Boolean flag=false,flag1;

	  int gs;
	  static String nos;
	       String aa,bb,cc,id;
	 JTable tb;
     String c1[]={"Name  "," Birth Day "," Relationship "};
	String d1[][]=new String[10][3];

	 CheckboxGroup cg,c2;
	 Checkbox fl,fr,yes,no;

	    //sql
  private PreparedStatement ps;
  private Statement st;
  private Connection con;


     PersonInfo3(String nos)
	{			
		 super("Third form");
		setLayout(null);
         setLocation(200,20);
        
       id=nos;
		new1=new JLabel(" form 3",JLabel.LEFT);
        new1.setFont(new Font("Arial",Font.ITALIC,20));
		new1.setForeground(Color.BLUE);

	    new2=new JLabel("Insert   Information");
        new2.setFont(new Font("convecta",Font.BOLD,16));
		new2.setForeground(Color.BLUE);
       
		tb=new JTable(d1,c1);	
	    tb.setEnabled(true);
	
	   int v=ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS;
		int h=ScrollPaneConstants.HORIZONTAL_SCROLLBAR_AS_NEEDED;
		String f=ScrollPaneConstants.VERTICAL_SCROLLBAR ;
		System.out.println(v);
		System.out.println(h);
	     JScrollPane p=new JScrollPane(tb,v,h);
		  //JScrollPane p=new JScrollPane(f);
		
		
         add(p);
    	p.setBounds(0,120,490,150);

		cg=new CheckboxGroup();
		fl=new Checkbox("Married",cg,false);
	    fl.setForeground(Color.BLACK);
		 fl.setFont(new Font("Arial",Font.BOLD,15));
  
			fr=new Checkbox("UnMarried",cg,false);
		fr.setForeground(Color.BLACK);
		 fr.setFont(new Font("Arial",Font.BOLD,15));

	   c2=new CheckboxGroup();
		yes=new Checkbox("yes",c2,false);
	    yes.setForeground(Color.BLACK);
		 yes.setFont(new Font("Arial",Font.BOLD,15));

			no=new Checkbox("NO",c2,false);
	    no.setForeground(Color.BLACK);
		 no.setFont(new Font("Arial",Font.BOLD,15));

	
        new2=new JLabel("Maritual Status  : ");
        new2.setFont(new Font("convecta",Font.BOLD,16));
		new2.setForeground(Color.BLACK);
    	
	   new3=new JLabel("Details of family Members ..");
        new3.setFont(new Font("convecta",Font.BOLD,16));
		new3.setForeground(Color.BLACK);
    	
		new4=new JLabel("Medals                                           Others ");
        new4.setFont(new Font("convecta",Font.BOLD,16));
		new4.setForeground(Color.BLACK);
    		 
		new5=new JLabel(" Do you have any Other  Country  tours  ?   ");
        new5.setFont(new Font("convecta",Font.BOLD,16));
		new5.setForeground(Color.BLACK);
    		 
			  //TextArea
		tvAddr=new TextArea(100,100);
				  tvAddr.setForeground(Color.BLACK);
		   tvAddr.setFont(new Font("Arial",Font.PLAIN,18));

	  //TextArea
		tvAddr1=new TextArea(100,100);
				  tvAddr1.setForeground(Color.BLACK);
		   tvAddr1.setFont(new Font("Arial",Font.PLAIN,18));
    tvAddr1.setEnabled(false);
		 //button

		 ok=new JButton("OK");
		
		 
       s=new  JComboBox();
	   s.addItem("");
	    s.addItem("BharatRatna.");
		  s.addItem("PadmaVibhushan.");
		  s.addItem("PadmaBhushan.");
		  s.addItem("PadmaShri.");
		  s.addItem("AshokaChakra");
		  s.addItem("KirtiChakra.");
		  s.addItem("ShauryaChakra ");
		  s.addItem("ParamViChakra..");
		  s.addItem("MahaVirChakra..");
		  s.addItem(" VirChakra. ");
		
		 //bounds
	    new2.setBounds(50,50,190,25);
		 new3.setBounds(50,85,210,25);
		 new4.setBounds(50,260,360,50);
		 new5.setBounds(30,390,360,50);
		 tvAddr.setBounds(250,300,200,90);
		 tvAddr1.setBounds(250,450,200,90);
		  s.setBounds(40,300,140,25);

		fl.setBounds(200,55,90,25);
		  fr.setBounds(310,55,90,25);
         yes.setBounds(60,450,40,25);
		  no.setBounds(140,450,40,25);
    
         ok.setBounds(150,550,90,35);
		
		           
		 //addItem
		 add(yes);
			 add(no);
		 add(new5);
		 add(s);
		 add(fl);
		 add(fr);
		 add(new2);
		 add(new3);
		 add(new4);
		 add(ok);
		
	    add(tvAddr);
	    add(tvAddr1);
	 
          setSize(500,630);
        
		fr.addItemListener(this);
		fl.addItemListener(this);
		yes.addItemListener(this);
		no.addItemListener(this);
     ok.addActionListener(this);

	}
	public void itemStateChanged(ItemEvent ie)
    {
		if(c2.getSelectedCheckbox()==yes)
		{
              tvAddr1.setEnabled(true);
			  flag=true;
		}
		if(c2.getSelectedCheckbox()==no)
		{
           tvAddr1.setEnabled(false);
		}
		if(cg.getSelectedCheckbox()==fl)
		{
			flag1=true;
            System.out.println(" Married");
		}
    if(cg.getSelectedCheckbox()==fr)
        {
                System.out.println(" UnMarried"); 
				flag1=false;
		}
	
    }
	public void actionPerformed(ActionEvent ae)
	{
		if(ae.getSource()==ok)
		{
				if(flag1==true)
			{
				aa="Married";
			  }
			  if(flag1==false)
			{
				  aa="UnMarried";
			 }
			   
		
 	       bb=tvAddr.getText();
			 cc=(String)s.getSelectedItem()+" ,  "+tvAddr1.getText();	
       	 	  add(id,aa,bb,cc);
        
	 String ii=d1[0][0];//.getText();
	    family();
	// System.out.println(ii);

			MainFrame mf=new MainFrame();
			setVisible(false);
			mf.setVisible(true);
				
		  }
	 }
		public static void main(String[] args) 
	{
		PersonInfo3 t=new PersonInfo3(nos);
			t.setVisible(true);
	}

	public void family()
	{
		     try{

				String dsn="mcm";
                 Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
			      con=DriverManager.getConnection("jdbc:odbc:" + dsn);
	             
				  st=con.createStatement();
					   
	            ps=con.prepareStatement("Insert into Family values (?,?,?,?)");

				
			   	String data[][]=new String[1][3];	
         for(int j=0;j<10;j++)
		{ 
			  int i=0;
			
		   if(d1[j][i]==null)
			  break;
		
		   int k=0,l=0;

		 for ( i=0; i<3; i++,l++)
        {    
               data[k][l]= d1[j][i];

		}
			   ps.setString(1,id);
			   ps.setString(2,data[0][0]);
			   ps.setString(3,data[0][1]);
		       ps.setString(4,data[0][2]);
			     ps.executeUpdate();
                  
			 
		}

			
			   
		} catch(Exception ee)
			        {
                       System.out.println("sdsd "+ee);
				     }
        

	
	  }
		
public void  add(String o,String a,String b,String c )
		{
	
	    
	        try{

				String dsn="mcm";
                 Class.forName("sun.jdbc.odbc.JdbcOdbcDriver");
			      con=DriverManager.getConnection("jdbc:odbc:" + dsn);
	             
				  st=con.createStatement();
			
			     ResultSet rs=st.executeQuery("select * from PersonInfo3");
				 while(rs.next())
				{
				  gs=rs.getInt(1);
				}
				gs=gs+1;
   
	            ps=con.prepareStatement("Insert into PersonInfo3 values (?,?,?,?,?)");
				
			   ps.setInt(1,gs);
			   ps.setString(2,o);
			   ps.setString(3,a);
		       ps.setString(4,b);
			   ps.setString(5,c);
			   ps.executeUpdate();
			   
		} catch(Exception ee)
			        {
                       System.out.println(ee);
				     }
           }

}	

